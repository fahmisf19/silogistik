<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <object th:include="~{fragments/common :: js}" th:remove="tag"></object>
    <object th:include="~{fragments/common :: css}" th:remove="tag"></object>
    <title>Detail Permintaan Pengiriman</title>
</head>
<body class="bg-light">
<nav th:replace="~{fragments/navbar :: navbar}"></nav>
<div class="container-md d-flex flex-row p-5 bg-white rounded-3 mt-5 mb-5"
     style="-webkit-box-shadow: 0px 2px 20px rgba(1, 41, 112, 0.1); -moz-box-shadow: 0px 2px 20px rgba(1, 41, 112, 0.1); box-shadow: 0px 2px 20px rgba(1, 41, 112, 0.1);">
    <div class="back-btn-div">
        <a type="button" class="back-btn" th:href="@{/permintaan-pengiriman}">
            <svg xmlns="http://www.w3.org/2000/svg" width="48" height="40" fill="currentColor" class="bi bi-arrow-left" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"/>
            </svg>
        </a>
    </div>
    <div class="container-sm ">
        <div class="top-section d-flex flex-row justify-content-between mb-5">
            <h3>Detail Permintaan Pengiriman</h3>

            <a th:if="${not permintaanPengiriman.isCancelled}" th:href="@{/permintaan-pengiriman/{idPermintaanPengiriman}/cancel(idPermintaanPengiriman=${permintaanPengiriman.id})}">
                <input class="btn btn-danger" type="button" value="Cancel Pengiriman">
            </a>
            <svg th:if="${permintaanPengiriman.isCancelled}" width="127" height="46" viewBox="0 0 127 46" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect x="0.5" y="0.5" width="126" height="45" rx="4.5" stroke="#DE2F2F"/>
                <rect x="4.5" y="4.5" width="118" height="37" rx="3.5" stroke="#DE2F2F" stroke-width="3"/>
                <path d="M12.5854 22.7562C12.5854 21.5264 12.8514 20.4325 13.3836 19.4747C13.9157 18.505 14.6548 17.7541 15.6008 17.2219C16.5587 16.678 17.6407 16.406 18.8469 16.406C20.3251 16.406 21.5904 16.7962 22.6428 17.5767C23.6953 18.3572 24.3989 19.4215 24.7536 20.7696H21.4189C21.1706 20.2492 20.8158 19.8531 20.3546 19.5811C19.9053 19.3091 19.3908 19.1731 18.8114 19.1731C17.8772 19.1731 17.1204 19.4983 16.5409 20.1487C15.9615 20.7991 15.6718 21.6683 15.6718 22.7562C15.6718 23.8441 15.9615 24.7133 16.5409 25.3637C17.1204 26.0141 17.8772 26.3393 18.8114 26.3393C19.3908 26.3393 19.9053 26.2033 20.3546 25.9313C20.8158 25.6593 21.1706 25.2632 21.4189 24.7429H24.7536C24.3989 26.091 23.6953 27.1552 22.6428 27.9357C21.5904 28.7044 20.3251 29.0887 18.8469 29.0887C17.6407 29.0887 16.5587 28.8226 15.6008 28.2905C14.6548 27.7465 13.9157 26.9956 13.3836 26.0377C12.8514 25.0799 12.5854 23.986 12.5854 22.7562ZM34.3627 26.8005H29.7153L28.9703 29H25.7952L30.3007 16.5479H33.8128L38.3183 29H35.1077L34.3627 26.8005ZM33.5822 24.4591L32.039 19.9004L30.5135 24.4591H33.5822ZM50.829 29H47.7958L42.7227 21.3194V29H39.6895V16.5479H42.7227L47.7958 24.2639V16.5479H50.829V29ZM52.5133 22.7562C52.5133 21.5264 52.7793 20.4325 53.3115 19.4747C53.8436 18.505 54.5827 17.7541 55.5287 17.2219C56.4866 16.678 57.5686 16.406 58.7748 16.406C60.253 16.406 61.5183 16.7962 62.5707 17.5767C63.6232 18.3572 64.3268 19.4215 64.6816 20.7696H61.3468C61.0985 20.2492 60.7437 19.8531 60.2825 19.5811C59.8332 19.3091 59.3188 19.1731 58.7393 19.1731C57.8051 19.1731 57.0483 19.4983 56.4688 20.1487C55.8894 20.7991 55.5997 21.6683 55.5997 22.7562C55.5997 23.8441 55.8894 24.7133 56.4688 25.3637C57.0483 26.0141 57.8051 26.3393 58.7393 26.3393C59.3188 26.3393 59.8332 26.2033 60.2825 25.9313C60.7437 25.6593 61.0985 25.2632 61.3468 24.7429H64.6816C64.3268 26.091 63.6232 27.1552 62.5707 27.9357C61.5183 28.7044 60.253 29.0887 58.7748 29.0887C57.5686 29.0887 56.4866 28.8226 55.5287 28.2905C54.5827 27.7465 53.8436 26.9956 53.3115 26.0377C52.7793 25.0799 52.5133 23.986 52.5133 22.7562ZM69.5723 18.978V21.4968H73.6343V23.8382H69.5723V26.5699H74.1664V29H66.5391V16.5479H74.1664V18.978H69.5723ZM79.1688 26.6586H83.1421V29H76.1356V16.5479H79.1688V26.6586ZM87.6221 26.6586H91.5954V29H84.5889V16.5479H87.6221V26.6586ZM96.0754 18.978V21.4968H100.137V23.8382H96.0754V26.5699H100.67V29H93.0422V16.5479H100.67V18.978H96.0754ZM107.304 16.5479C108.616 16.5479 109.764 16.8081 110.745 17.3284C111.727 17.8487 112.483 18.5819 113.015 19.5279C113.559 20.4621 113.831 21.5441 113.831 22.7739C113.831 23.992 113.559 25.074 113.015 26.02C112.483 26.966 111.721 27.6992 110.727 28.2195C109.746 28.7398 108.605 29 107.304 29H102.639V16.5479H107.304ZM107.109 26.3748C108.256 26.3748 109.149 26.0614 109.787 25.4347C110.426 24.8079 110.745 23.921 110.745 22.7739C110.745 21.6269 110.426 20.7341 109.787 20.0955C109.149 19.4569 108.256 19.1377 107.109 19.1377H105.672V26.3748H107.109Z" fill="#DE2F2F"/>
            </svg>
        </div>
        <div class="row">
            <div class="col-sm">
                <p>No. Permintaan Pengiriman</p>
            </div>
            <div class="col-6" th:text="': ' + ${permintaanPengiriman.nomorPengiriman}"></div>
            <div class="col-sm"></div>
        </div>
        <div class="row">
            <div class="col-sm">
                <p>Waktu Permintaan</p>
            </div>
            <div class="col-6" th:text="': ' + ${waktuPermintaan}"></div>
            <div class="col-sm"></div>
        </div>
        <div class="row">
            <div class="col-sm">
                <p>Karyawan Bertugas</p>
            </div>
            <div class="col-6" th:text="': ' + ${permintaanPengiriman.karyawan.nama}"></div>
            <div class="col-sm"></div>
        </div>
        <div class="row">
            <div class="col-sm">
                <p>Waktu Pengiriman</p>
            </div>
            <div class="col-6" th:text="': ' + ${tanggalPengiriman}"></div>
            <div class="col-sm"></div>
        </div>
        <div class="row">
            <div class="col-sm">
                <p>Nama Penerima</p>
            </div>
            <div class="col-6" th:text="': ' + ${permintaanPengiriman.namaPenerima}"></div>
            <div class="col-sm"></div>
        </div>
        <div class="row">
            <div class="col-sm">
                <p>Alamat Penerima</p>
            </div>
            <div class="col-6" th:text="': ' + ${permintaanPengiriman.alamatPenerima}"></div>
            <div class="col-sm"></div>
        </div>
        <div class="row">
            <div class="col-sm">
                <p>Jenis layanan</p>
            </div>
            <div class="col-6" th:text="': ' + ${type}"></div>
            <div class="col-sm"></div>
        </div>
        <div class="row">
            <div class="col-sm">
                <p>Biaya Pengiriman</p>
            </div>
            <div class="col-6" th:text="': ' + ${permintaanPengiriman.biayaPengiriman}"></div>
            <div class="col-sm"></div>
        </div>

        <h5 class="mt-5 mb-3">Daftar Barang Dipesan</h5>
        <div class="container-fluid">
            <div class="table-responsive-md">
                <table class="table table-hover rounded rounded-3 overflow-hidden"
                       style="color: #012970"
                       th:if="${not #lists.isEmpty(listPermintaanPengirimanBarang)}">
                    <thead class="table" style="background-color: #012970; color: #fff;">
                    <tr>
                        <th class="text-center" style="padding: 1rem 1rem;">#</th>
                        <th class="text-center" style="padding: 1rem 1rem;">SKU</th>
                        <th class="text-center" style="padding: 1rem 1rem;">Merk</th>
                        <th class="text-center" style="padding: 1rem 1rem;">Kuantitas Pesanan</th>
                        <th class="text-center" style="padding: 1rem 1rem;">Total Harga</th>
                    </tr>
                    </thead>
                    <tbody class="table">
                    <tr th:each="index : ${#numbers.sequence(0, listPermintaanPengirimanBarang.size() - 1)}" class="text-center">
                        <td th:text="${index+1}"></td>
                        <td>
                            <a th:href="@{/barang/{sku}(sku=${listPermintaanPengirimanBarang[index].barang.sku})}" class="text-decoration-none">
                                <span th:text="${listPermintaanPengirimanBarang[index].barang.sku}"></span>
                            </a>
                        </td>
                        <td th:text="${listPermintaanPengirimanBarang[index].barang.merk}"></td>
                        <td th:text="${listPermintaanPengirimanBarang[index].kuantitasPengiriman}"></td>
                        <td th:text="${listPermintaanPengirimanBarang[index].barang.hargaBarang*listPermintaanPengirimanBarang[index].kuantitasPengiriman}"></td>
                    </tr>
                    </tbody>
                </table>
                <p th:unless="${not #lists.isEmpty(listPermintaanPengirimanBarang)}">Tidak ada barang dalam gudang ini.</p>

            </div>
        </div>
    </div>
</div>
</body>
</html>